DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":44,"filename":"Comprovante09102025bra.pdf","valor":"20.00","destinatario":"luiz augusto da s...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":44,"filename":"Comprovante09102025bra.pdf","valor":"20.00","destinatario":"luiz augusto da s...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: upload_flow: Arquivo Comprovante_05-11-2025_075743bb.pdf recebido em: D:\Sidnei\automatopagamento_back_front\arquivos\Comprovante_05-11-2025_075743bb.pdf
DEBUG: process_file_flow: DEBUG: INICIO processFile para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Iniciando processFile para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes de verificar existingTransaction para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions WHERE filename = ?... with params: ["Comprovante_05-11-2025_075743bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[],[{"_buf":{"type":"Buffer","data":[1,0,0,1,15,73,0,0,2,3,100,101,102,15,117,108,105,97,110,97,101...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: existingTransaction para Comprovante_05-11-2025_075743bb.pdf: false
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes de verificar existingUnprocessedFile para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?... with params: ["Comprovante_05-11-2025_075743bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"count":0}],[{"_buf":{"type":"Buffer","data":[1,0,0,1,1,27,0,0,2,3,100,101,102,0,0,0,5,99,111,117...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: existingUnprocessedFile para Comprovante_05-11-2025_075743bb.pdf: false
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: File extension for Comprovante_05-11-2025_075743bb.pdf: .pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Calling processPDF for Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: processPDF returned for Comprovante_05-11-2025_075743bb.pdf. Extracted text length: 1072
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: extractedText para Comprovante_05-11-2025_075743bb.pdf (após extração/recuperação): true
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Entering extractedText block for Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Texto extraído/recuperado de Comprovante_05-11-2025_075743bb.pdf:
{
  "text": "\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n05/11/2025 às 07:57:29\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251105105718943101903\nDocumento: 000000000110503\nAutenticação SISBB: 1.B04.150.781.C6A.17B\nNotificação enviada em: 05/11/2025 às 07:57:30\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.",
  "pages": 1,
  "info": {
    "PDFFormatVersion": "1.4",
    "IsAcroFormPresent":...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Calling parsePixData for Comprovante_05-11-2025_075743bb.pdf with text length: 835
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Bloco Banco do Brasil ativado.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData generated for Comprovante_05-11-2025_075743bb.pdf: {"valor":20,"destinatario":"luiz augusto silva","chavePix":"00000000202","data":"05/11/2025","hora":"07:57:29","idTransacao":null,"banco":"Banco do Brasil","tipoChave":"CPF","status":null,"observacoes":null,"pagador":"luiz fernando s colussi *","pagadorBanco":null}
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes do bloco de decisão save/update para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Reached save/update decision for Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: isFullyProcessed condition for Comprovante_05-11-2025_075743bb.pdf: null
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData.data: 05/11/2025, pixData.valor: 20, pixData.destinatario: luiz augusto silva, pixData.banco: Banco do Brasil, pixData.pagador: luiz fernando s colussi *, pixData.idTransacao: null
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Condição de processamento completo NÃO atendida para Comprovante_05-11-2025_075743bb.pdf. Salvando em pix_transactions_no_process.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Attempting to save new Pix transaction to pix_transactions_no_process for Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction called.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData desestruturado com sucesso.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - filename: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - valor: 20
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - destinatario: luiz augusto silva
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - pagador: luiz fernando s colussi *
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: tableName determinado como: pix_transactions
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: SQL Query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferencia,
      hora_transferencia, banco, tipo_chave, status, id_transacao,
      observacoes, extracted_text, pagador
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: SQL Values: ["Comprovante_05-11-2025_075743bb.pdf",20,"luiz augusto silva","00000000202","2025-11-05","07:57:29","Banco do Brasil","CPF",null,null,null,"\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n05/11/2025 às 07:57:29\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251105105718943101903\nDocumento: 000000000110503\nAutenticação SISBB: 1.B04.150.781.C6A.17B\nNotificação enviada em: 05/11/2025 às 07:57:30\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.","luiz fernando s colussi *"]
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: About to execute SQL query for pix_transactions.
DEBUG: database_query: DEBUG: Query function called with SQL: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc...
DEBUG: database_query: DEBUG: Executing query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc... with params: ["Comprovante_05-11-2025_075743bb.pdf",20,"luiz augusto silva","00000000202","2025-11-05","07:57:29"...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":1,"insertId":50,"info":"","serverStatus":2,"warningStatus":0,"change...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Arquivo salvo em pix_transactions_no_process para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":50,"filename":"Comprovante_05-11-2025_075743bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":50,"filename":"Comprovante_05-11-2025_075743bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: 
      CREATE TABLE IF NOT EXISTS pix_transactions (
        id INT AUTO_INCREMENT PRIMARY KEY,
    ...
DEBUG: database_query: DEBUG: Executing query: 
      CREATE TABLE IF NOT EXISTS pix_transactions (
        id INT AUTO_INCREMENT PRIMARY KEY,
    ... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: 
    CREATE TABLE IF NOT EXISTS pix_transactions_no_process (
      id INT AUTO_INCREMENT PRIMARY KE...
DEBUG: database_query: DEBUG: Executing query: 
    CREATE TABLE IF NOT EXISTS pix_transactions_no_process (
      id INT AUTO_INCREMENT PRIMARY KE... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"","serverStatus":2,"warningStatus":1,"changed...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"","serverStatus":2,"warningStatus":1,"changed...
DEBUG: database_query: DEBUG: Query function called with SQL: 
      ALTER TABLE pix_transactions MODIFY COLUMN extracted_text LONGTEXT CHARACTER SET utf8mb4 COLL...
DEBUG: database_query: DEBUG: Executing query: 
      ALTER TABLE pix_transactions MODIFY COLUMN extracted_text LONGTEXT CHARACTER SET utf8mb4 COLL... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"&Records: 0  Duplicates: 0  Warnings: 0","ser...
DEBUG: database_query: DEBUG: Query function called with SQL: 
      CREATE TABLE IF NOT EXISTS pix_transactions (
        id INT AUTO_INCREMENT PRIMARY KEY,
    ...
DEBUG: database_query: DEBUG: Executing query: 
      CREATE TABLE IF NOT EXISTS pix_transactions (
        id INT AUTO_INCREMENT PRIMARY KEY,
    ... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: 
    CREATE TABLE IF NOT EXISTS pix_transactions_no_process (
      id INT AUTO_INCREMENT PRIMARY KE...
DEBUG: database_query: DEBUG: Executing query: 
    CREATE TABLE IF NOT EXISTS pix_transactions_no_process (
      id INT AUTO_INCREMENT PRIMARY KE... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"","serverStatus":2,"warningStatus":1,"changed...
DEBUG: database_query: DEBUG: Query function called with SQL: 
      ALTER TABLE pix_transactions MODIFY COLUMN extracted_text LONGTEXT CHARACTER SET utf8mb4 COLL...
DEBUG: database_query: DEBUG: Executing query: 
      ALTER TABLE pix_transactions MODIFY COLUMN extracted_text LONGTEXT CHARACTER SET utf8mb4 COLL... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"","serverStatus":2,"warningStatus":1,"changed...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"&Records: 0  Duplicates: 0  Warnings: 0","ser...
DEBUG: database_query: DEBUG: Query function called with SQL: 
      CREATE TABLE IF NOT EXISTS pix_transactions (
        id INT AUTO_INCREMENT PRIMARY KEY,
    ...
DEBUG: database_query: DEBUG: Executing query: 
      CREATE TABLE IF NOT EXISTS pix_transactions (
        id INT AUTO_INCREMENT PRIMARY KEY,
    ... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: 
    CREATE TABLE IF NOT EXISTS pix_transactions_no_process (
      id INT AUTO_INCREMENT PRIMARY KE...
DEBUG: database_query: DEBUG: Executing query: 
    CREATE TABLE IF NOT EXISTS pix_transactions_no_process (
      id INT AUTO_INCREMENT PRIMARY KE... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"","serverStatus":2,"warningStatus":1,"changed...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"","serverStatus":2,"warningStatus":1,"changed...
DEBUG: database_query: DEBUG: Query function called with SQL: 
      ALTER TABLE pix_transactions MODIFY COLUMN extracted_text LONGTEXT CHARACTER SET utf8mb4 COLL...
DEBUG: database_query: DEBUG: Executing query: 
      ALTER TABLE pix_transactions MODIFY COLUMN extracted_text LONGTEXT CHARACTER SET utf8mb4 COLL... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":0,"insertId":0,"info":"&Records: 0  Duplicates: 0  Warnings: 0","ser...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":44,"filename":"Comprovante09102025bra.pdf","valor":"20.00","destinatario":"luiz augusto da s...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":44,"filename":"Comprovante09102025bra.pdf","valor":"20.00","destinatario":"luiz augusto da s...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: upload_flow: Arquivo Comprovante_05-11-2025_075743bb.pdf recebido em: D:\Sidnei\automatopagamento_back_front\arquivos\Comprovante_05-11-2025_075743bb.pdf
DEBUG: process_file_flow: DEBUG: INICIO processFile para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Iniciando processFile para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes de verificar existingTransaction para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions WHERE filename = ?... with params: ["Comprovante_05-11-2025_075743bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[],[{"_buf":{"type":"Buffer","data":[1,0,0,1,15,73,0,0,2,3,100,101,102,15,117,108,105,97,110,97,101...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: existingTransaction para Comprovante_05-11-2025_075743bb.pdf: false
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes de verificar existingUnprocessedFile para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?... with params: ["Comprovante_05-11-2025_075743bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"count":0}],[{"_buf":{"type":"Buffer","data":[1,0,0,1,1,27,0,0,2,3,100,101,102,0,0,0,5,99,111,117...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: existingUnprocessedFile para Comprovante_05-11-2025_075743bb.pdf: false
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: File extension for Comprovante_05-11-2025_075743bb.pdf: .pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Calling processPDF for Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: processPDF returned for Comprovante_05-11-2025_075743bb.pdf. Extracted text length: 1072
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: extractedText para Comprovante_05-11-2025_075743bb.pdf (após extração/recuperação): true
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Entering extractedText block for Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Texto extraído/recuperado de Comprovante_05-11-2025_075743bb.pdf:
{
  "text": "\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n05/11/2025 às 07:57:29\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251105105718943101903\nDocumento: 000000000110503\nAutenticação SISBB: 1.B04.150.781.C6A.17B\nNotificação enviada em: 05/11/2025 às 07:57:30\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.",
  "pages": 1,
  "info": {
    "PDFFormatVersion": "1.4",
    "IsAcroFormPresent":...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Calling parsePixData for Comprovante_05-11-2025_075743bb.pdf with text length: 835
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Bloco Banco do Brasil ativado.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData generated for Comprovante_05-11-2025_075743bb.pdf: {"valor":20,"destinatario":"luiz augusto silva","chavePix":"00000000202","data":"05/11/2025","hora":"07:57:29","idTransacao":null,"banco":"Banco do Brasil","tipoChave":"CPF","status":null,"observacoes":null,"pagador":"luiz fernando s colussi *","pagadorBanco":null}
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes do bloco de decisão save/update para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Reached save/update decision for Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: isFullyProcessed condition for Comprovante_05-11-2025_075743bb.pdf: null
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData.data: 05/11/2025, pixData.valor: 20, pixData.destinatario: luiz augusto silva, pixData.banco: Banco do Brasil, pixData.pagador: luiz fernando s colussi *, pixData.idTransacao: null
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Condição de processamento completo NÃO atendida para Comprovante_05-11-2025_075743bb.pdf. Salvando em pix_transactions_no_process.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Attempting to save new Pix transaction to pix_transactions_no_process for Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction called.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData desestruturado com sucesso.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - filename: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - valor: 20
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - destinatario: luiz augusto silva
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - pagador: luiz fernando s colussi *
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: tableName determinado como: pix_transactions
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: SQL Query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferencia,
      hora_transferencia, banco, tipo_chave, status, id_transacao,
      observacoes, extracted_text, pagador
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: SQL Values: ["Comprovante_05-11-2025_075743bb.pdf",20,"luiz augusto silva","00000000202","2025-11-05","07:57:29","Banco do Brasil","CPF",null,null,null,"\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n05/11/2025 às 07:57:29\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251105105718943101903\nDocumento: 000000000110503\nAutenticação SISBB: 1.B04.150.781.C6A.17B\nNotificação enviada em: 05/11/2025 às 07:57:30\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.","luiz fernando s colussi *"]
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: About to execute SQL query for pix_transactions.
DEBUG: database_query: DEBUG: Query function called with SQL: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc...
DEBUG: database_query: DEBUG: Executing query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc... with params: ["Comprovante_05-11-2025_075743bb.pdf",20,"luiz augusto silva","00000000202","2025-11-05","07:57:29"...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":1,"insertId":51,"info":"","serverStatus":2,"warningStatus":0,"change...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Arquivo salvo em pix_transactions_no_process para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":51,"filename":"Comprovante_05-11-2025_075743bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":51,"filename":"Comprovante_05-11-2025_075743bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":44,"filename":"Comprovante09102025bra.pdf","valor":"20.00","destinatario":"luiz augusto da s...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":44,"filename":"Comprovante09102025bra.pdf","valor":"20.00","destinatario":"luiz augusto da s...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: upload_flow: Arquivo Comprovante_05-11-2025_075743bb.pdf recebido em: D:\Sidnei\automatopagamento_back_front\arquivos\Comprovante_05-11-2025_075743bb.pdf
DEBUG: process_file_flow: DEBUG: INICIO processFile para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Iniciando processFile para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes de verificar existingTransaction para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions WHERE filename = ?... with params: ["Comprovante_05-11-2025_075743bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[],[{"_buf":{"type":"Buffer","data":[1,0,0,1,15,73,0,0,2,3,100,101,102,15,117,108,105,97,110,97,101...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: existingTransaction para Comprovante_05-11-2025_075743bb.pdf: false
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes de verificar existingUnprocessedFile para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?... with params: ["Comprovante_05-11-2025_075743bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"count":0}],[{"_buf":{"type":"Buffer","data":[1,0,0,1,1,27,0,0,2,3,100,101,102,0,0,0,5,99,111,117...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: existingUnprocessedFile para Comprovante_05-11-2025_075743bb.pdf: false
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: File extension for Comprovante_05-11-2025_075743bb.pdf: .pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Calling processPDF for Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: processPDF returned for Comprovante_05-11-2025_075743bb.pdf. Extracted text length: 1072
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: extractedText para Comprovante_05-11-2025_075743bb.pdf (após extração/recuperação): true
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Entering extractedText block for Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Texto extraído/recuperado de Comprovante_05-11-2025_075743bb.pdf:
{
  "text": "\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n05/11/2025 às 07:57:29\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251105105718943101903\nDocumento: 000000000110503\nAutenticação SISBB: 1.B04.150.781.C6A.17B\nNotificação enviada em: 05/11/2025 às 07:57:30\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.",
  "pages": 1,
  "info": {
    "PDFFormatVersion": "1.4",
    "IsAcroFormPresent":...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Calling parsePixData for Comprovante_05-11-2025_075743bb.pdf with text length: 835
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Bloco Banco do Brasil ativado.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData generated for Comprovante_05-11-2025_075743bb.pdf: {"valor":20,"destinatario":"luiz augusto silva","chavePix":"00000000202","data":"05/11/2025","hora":"07:57:29","idTransacao":null,"banco":"Banco do Brasil","tipoChave":"CPF","status":null,"observacoes":null,"pagador":"luiz fernando s colussi *","pagadorBanco":null}
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Antes do bloco de decisão save/update para Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Reached save/update decision for Comprovante_05-11-2025_075743bb.pdf.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: isFullyProcessed condition for Comprovante_05-11-2025_075743bb.pdf: null
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData.data: 05/11/2025, pixData.valor: 20, pixData.destinatario: luiz augusto silva, pixData.banco: Banco do Brasil, pixData.pagador: luiz fernando s colussi *, pixData.idTransacao: null
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Condição de processamento completo NÃO atendida para Comprovante_05-11-2025_075743bb.pdf. Salvando em pix_transactions_no_process.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Attempting to save new Pix transaction to pix_transactions_no_process for Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction called.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: pixData desestruturado com sucesso.
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - filename: Comprovante_05-11-2025_075743bb.pdf
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - valor: 20
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - destinatario: luiz augusto silva
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: savePixTransaction - pagador: luiz fernando s colussi *
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: tableName determinado como: pix_transactions
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: SQL Query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferencia,
      hora_transferencia, banco, tipo_chave, status, id_transacao,
      observacoes, extracted_text, pagador
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: SQL Values: ["Comprovante_05-11-2025_075743bb.pdf",20,"luiz augusto silva","00000000202","2025-11-05","07:57:29","Banco do Brasil","CPF",null,null,null,"\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n05/11/2025 às 07:57:29\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251105105718943101903\nDocumento: 000000000110503\nAutenticação SISBB: 1.B04.150.781.C6A.17B\nNotificação enviada em: 05/11/2025 às 07:57:30\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.","luiz fernando s colussi *"]
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: About to execute SQL query for pix_transactions.
DEBUG: database_query: DEBUG: Query function called with SQL: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc...
DEBUG: database_query: DEBUG: Executing query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc... with params: ["Comprovante_05-11-2025_075743bb.pdf",20,"luiz augusto silva","00000000202","2025-11-05","07:57:29"...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":1,"insertId":52,"info":"","serverStatus":2,"warningStatus":0,"change...
DEBUG: Comprovante_05-11-2025_075743bb.pdf: DEBUG: Arquivo salvo em pix_transactions_no_process para: Comprovante_05-11-2025_075743bb.pdf
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":52,"filename":"Comprovante_05-11-2025_075743bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":52,"filename":"Comprovante_05-11-2025_075743bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: upload_flow: Arquivo Comprovante_05-12-2025_132511bb.pdf recebido em: D:\Sidnei\automatopagamento_back_front\arquivos\Comprovante_05-12-2025_132511bb.pdf
DEBUG: process_file_flow: DEBUG: INICIO processFile para: Comprovante_05-12-2025_132511bb.pdf
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Iniciando processFile para: Comprovante_05-12-2025_132511bb.pdf
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Antes de verificar existingTransaction para Comprovante_05-12-2025_132511bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions WHERE filename = ?... with params: ["Comprovante_05-12-2025_132511bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[],[{"_buf":{"type":"Buffer","data":[1,0,0,1,15,73,0,0,2,3,100,101,102,15,117,108,105,97,110,97,101...
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: existingTransaction para Comprovante_05-12-2025_132511bb.pdf: false
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Antes de verificar existingUnprocessedFile para Comprovante_05-12-2025_132511bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?... with params: ["Comprovante_05-12-2025_132511bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"count":0}],[{"_buf":{"type":"Buffer","data":[1,0,0,1,1,27,0,0,2,3,100,101,102,0,0,0,5,99,111,117...
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: existingUnprocessedFile para Comprovante_05-12-2025_132511bb.pdf: false
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: File extension for Comprovante_05-12-2025_132511bb.pdf: .pdf
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Calling processPDF for Comprovante_05-12-2025_132511bb.pdf
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: processPDF returned for Comprovante_05-12-2025_132511bb.pdf. Extracted text length: 1071
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: extractedText para Comprovante_05-12-2025_132511bb.pdf (após extração/recuperação): true
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Entering extractedText block for Comprovante_05-12-2025_132511bb.pdf.
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Texto extraído/recuperado de Comprovante_05-12-2025_132511bb.pdf:
{
  "text": "\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n05/12/2025 às 13:25:00\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728-**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251205162448842695062\nComprovante emitido em: 05/12/2025 às 13:25:07\nDocumento: 000000000120508\nAutenticação SISBB: 7.E5E.667.248.DA9.A41\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722\u0001Ouvidoria: 0800 729 5678\u0001Atendimento a deficientes auditivos\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.",
  "pages": 1,
  "info": {
    "PDFFormatVersion": "1.4",
    "IsAcroFormPresent": ...
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Calling parsePixData for Comprovante_05-12-2025_132511bb.pdf with text length: 834
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Bloco Banco do Brasil ativado.
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: pixData generated for Comprovante_05-12-2025_132511bb.pdf: {"valor":20,"destinatario":"luiz augusto silva","chavePix":"00000000202","data":"05/12/2025","hora":"13:25:00","idTransacao":null,"banco":"Banco do Brasil","tipoChave":"CPF","status":null,"observacoes":null,"pagador":"luiz fernando s colussi *","pagadorBanco":null}
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Antes do bloco de decisão save/update para Comprovante_05-12-2025_132511bb.pdf.
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Reached save/update decision for Comprovante_05-12-2025_132511bb.pdf.
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: isFullyProcessed condition for Comprovante_05-12-2025_132511bb.pdf: null
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: pixData.data: 05/12/2025, pixData.valor: 20, pixData.destinatario: luiz augusto silva, pixData.banco: Banco do Brasil, pixData.pagador: luiz fernando s colussi *, pixData.idTransacao: null
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Condição de processamento completo NÃO atendida para Comprovante_05-12-2025_132511bb.pdf. Salvando em pix_transactions_no_process.
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Attempting to save new Pix transaction to pix_transactions_no_process for Comprovante_05-12-2025_132511bb.pdf
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: savePixTransaction called.
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: pixData desestruturado com sucesso.
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: savePixTransaction - filename: Comprovante_05-12-2025_132511bb.pdf
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: savePixTransaction - valor: 20
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: savePixTransaction - destinatario: luiz augusto silva
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: savePixTransaction - pagador: luiz fernando s colussi *
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: tableName determinado como: pix_transactions
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: SQL Query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferencia,
      hora_transferencia, banco, tipo_chave, status, id_transacao,
      observacoes, extracted_text, pagador
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: SQL Values: ["Comprovante_05-12-2025_132511bb.pdf",20,"luiz augusto silva","00000000202","2025-12-05","13:25:00","Banco do Brasil","CPF",null,null,null,"\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n05/12/2025 às 13:25:00\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728-**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251205162448842695062\nComprovante emitido em: 05/12/2025 às 13:25:07\nDocumento: 000000000120508\nAutenticação SISBB: 7.E5E.667.248.DA9.A41\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722\u0001Ouvidoria: 0800 729 5678\u0001Atendimento a deficientes auditivos\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.","luiz fernando s colussi *"]
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: About to execute SQL query for pix_transactions.
DEBUG: database_query: DEBUG: Query function called with SQL: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc...
DEBUG: database_query: DEBUG: Executing query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc... with params: ["Comprovante_05-12-2025_132511bb.pdf",20,"luiz augusto silva","00000000202","2025-12-05","13:25:00"...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":1,"insertId":53,"info":"","serverStatus":2,"warningStatus":0,"change...
DEBUG: Comprovante_05-12-2025_132511bb.pdf: DEBUG: Arquivo salvo em pix_transactions_no_process para: Comprovante_05-12-2025_132511bb.pdf
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":53,"filename":"Comprovante_05-12-2025_132511bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":53,"filename":"Comprovante_05-12-2025_132511bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: upload_flow: Arquivo Comprovante_23-09-2025_065915bb.pdf recebido em: D:\Sidnei\automatopagamento_back_front\arquivos\Comprovante_23-09-2025_065915bb.pdf
DEBUG: process_file_flow: DEBUG: INICIO processFile para: Comprovante_23-09-2025_065915bb.pdf
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Iniciando processFile para: Comprovante_23-09-2025_065915bb.pdf
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Antes de verificar existingTransaction para Comprovante_23-09-2025_065915bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions WHERE filename = ?... with params: ["Comprovante_23-09-2025_065915bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[],[{"_buf":{"type":"Buffer","data":[1,0,0,1,15,73,0,0,2,3,100,101,102,15,117,108,105,97,110,97,101...
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: existingTransaction para Comprovante_23-09-2025_065915bb.pdf: false
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Antes de verificar existingUnprocessedFile para Comprovante_23-09-2025_065915bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?... with params: ["Comprovante_23-09-2025_065915bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"count":0}],[{"_buf":{"type":"Buffer","data":[1,0,0,1,1,27,0,0,2,3,100,101,102,0,0,0,5,99,111,117...
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: existingUnprocessedFile para Comprovante_23-09-2025_065915bb.pdf: false
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: File extension for Comprovante_23-09-2025_065915bb.pdf: .pdf
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Calling processPDF for Comprovante_23-09-2025_065915bb.pdf
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: processPDF returned for Comprovante_23-09-2025_065915bb.pdf. Extracted text length: 1055
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: extractedText para Comprovante_23-09-2025_065915bb.pdf (após extração/recuperação): true
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Entering extractedText block for Comprovante_23-09-2025_065915bb.pdf.
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Texto extraído/recuperado de Comprovante_23-09-2025_065915bb.pdf:
{
  "text": "\n\n\nComprovante BB\n\nPix Enviado\nR$ 50,00\n23/09/2025 às 06:59:02\nRecebedor\nGabriella G Silva\nCPF\n***.847.568-**\nAgência\n0001\nConta\n1729750572\nInstituição\n18236120 NU PAGAMENTOS - IP\nTipo de conta\nConta Pagamento\nChave Pix\n58184756895\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020250923095849085388250\nDocumento: 000000000092301\nAutenticação SISBB: 0.0B9.C02.CF4.843.F42\nNotificação enviada em: 23/09/2025 às 06:59:03\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.",
  "pages": 1,
  "info": {
    "PDFFormatVersion": "1.4",
    "IsAcroFormPresent": false,
    "IsXF...
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Calling parsePixData for Comprovante_23-09-2025_065915bb.pdf with text length: 818
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Bloco Banco do Brasil ativado.
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: pixData generated for Comprovante_23-09-2025_065915bb.pdf: {"valor":50,"destinatario":"gabriella g silva","chavePix":"58184756895","data":"23/09/2025","hora":"06:59:02","idTransacao":null,"banco":"Banco do Brasil","tipoChave":"CPF","status":null,"observacoes":null,"pagador":"luiz fernando s colussi *","pagadorBanco":null}
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Antes do bloco de decisão save/update para Comprovante_23-09-2025_065915bb.pdf.
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Reached save/update decision for Comprovante_23-09-2025_065915bb.pdf.
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: isFullyProcessed condition for Comprovante_23-09-2025_065915bb.pdf: null
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: pixData.data: 23/09/2025, pixData.valor: 50, pixData.destinatario: gabriella g silva, pixData.banco: Banco do Brasil, pixData.pagador: luiz fernando s colussi *, pixData.idTransacao: null
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Condição de processamento completo NÃO atendida para Comprovante_23-09-2025_065915bb.pdf. Salvando em pix_transactions_no_process.
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Attempting to save new Pix transaction to pix_transactions_no_process for Comprovante_23-09-2025_065915bb.pdf
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: savePixTransaction called.
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: pixData desestruturado com sucesso.
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: savePixTransaction - filename: Comprovante_23-09-2025_065915bb.pdf
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: savePixTransaction - valor: 50
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: savePixTransaction - destinatario: gabriella g silva
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: savePixTransaction - pagador: luiz fernando s colussi *
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: tableName determinado como: pix_transactions
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: SQL Query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferencia,
      hora_transferencia, banco, tipo_chave, status, id_transacao,
      observacoes, extracted_text, pagador
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: SQL Values: ["Comprovante_23-09-2025_065915bb.pdf",50,"gabriella g silva","58184756895","2025-09-23","06:59:02","Banco do Brasil","CPF",null,null,null,"\n\n\nComprovante BB\n\nPix Enviado\nR$ 50,00\n23/09/2025 às 06:59:02\nRecebedor\nGabriella G Silva\nCPF\n***.847.568-**\nAgência\n0001\nConta\n1729750572\nInstituição\n18236120 NU PAGAMENTOS - IP\nTipo de conta\nConta Pagamento\nChave Pix\n58184756895\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020250923095849085388250\nDocumento: 000000000092301\nAutenticação SISBB: 0.0B9.C02.CF4.843.F42\nNotificação enviada em: 23/09/2025 às 06:59:03\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.","luiz fernando s colussi *"]
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: About to execute SQL query for pix_transactions.
DEBUG: database_query: DEBUG: Query function called with SQL: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc...
DEBUG: database_query: DEBUG: Executing query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc... with params: ["Comprovante_23-09-2025_065915bb.pdf",50,"gabriella g silva","58184756895","2025-09-23","06:59:02",...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":1,"insertId":54,"info":"","serverStatus":2,"warningStatus":0,"change...
DEBUG: Comprovante_23-09-2025_065915bb.pdf: DEBUG: Arquivo salvo em pix_transactions_no_process para: Comprovante_23-09-2025_065915bb.pdf
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":54,"filename":"Comprovante_23-09-2025_065915bb.pdf","valor":"50.00","destinatario":"gabriell...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":54,"filename":"Comprovante_23-09-2025_065915bb.pdf","valor":"50.00","destinatario":"gabriell...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: upload_flow: Arquivo Comprovante_07-10-2025_073256bb.pdf recebido em: D:\Sidnei\automatopagamento_back_front\arquivos\Comprovante_07-10-2025_073256bb.pdf
DEBUG: process_file_flow: DEBUG: INICIO processFile para: Comprovante_07-10-2025_073256bb.pdf
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Iniciando processFile para: Comprovante_07-10-2025_073256bb.pdf
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Antes de verificar existingTransaction para Comprovante_07-10-2025_073256bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions WHERE filename = ?... with params: ["Comprovante_07-10-2025_073256bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[],[{"_buf":{"type":"Buffer","data":[1,0,0,1,15,73,0,0,2,3,100,101,102,15,117,108,105,97,110,97,101...
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: existingTransaction para Comprovante_07-10-2025_073256bb.pdf: false
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Antes de verificar existingUnprocessedFile para Comprovante_07-10-2025_073256bb.pdf.
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?...
DEBUG: database_query: DEBUG: Executing query: SELECT COUNT(*) AS count FROM pix_transactions_no_process WHERE filename = ?... with params: ["Comprovante_07-10-2025_073256bb.pdf"]...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"count":0}],[{"_buf":{"type":"Buffer","data":[1,0,0,1,1,27,0,0,2,3,100,101,102,0,0,0,5,99,111,117...
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: existingUnprocessedFile para Comprovante_07-10-2025_073256bb.pdf: false
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: File extension for Comprovante_07-10-2025_073256bb.pdf: .pdf
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Calling processPDF for Comprovante_07-10-2025_073256bb.pdf
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: processPDF returned for Comprovante_07-10-2025_073256bb.pdf. Extracted text length: 1072
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: extractedText para Comprovante_07-10-2025_073256bb.pdf (após extração/recuperação): true
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Entering extractedText block for Comprovante_07-10-2025_073256bb.pdf.
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Texto extraído/recuperado de Comprovante_07-10-2025_073256bb.pdf:
{
  "text": "\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n07/10/2025 às 07:32:45\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251007103233175861651\nDocumento: 000000000100701\nAutenticação SISBB: 2.69E.51C.BEF.420.5E4\nNotificação enviada em: 07/10/2025 às 07:32:46\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.",
  "pages": 1,
  "info": {
    "PDFFormatVersion": "1.4",
    "IsAcroFormPresent":...
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Calling parsePixData for Comprovante_07-10-2025_073256bb.pdf with text length: 835
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Bloco Banco do Brasil ativado.
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: pixData generated for Comprovante_07-10-2025_073256bb.pdf: {"valor":20,"destinatario":"luiz augusto silva","chavePix":"00000000202","data":"07/10/2025","hora":"07:32:45","idTransacao":null,"banco":"Banco do Brasil","tipoChave":"CPF","status":null,"observacoes":null,"pagador":"luiz fernando s colussi *","pagadorBanco":null}
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Antes do bloco de decisão save/update para Comprovante_07-10-2025_073256bb.pdf.
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Reached save/update decision for Comprovante_07-10-2025_073256bb.pdf.
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: isFullyProcessed condition for Comprovante_07-10-2025_073256bb.pdf: null
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: pixData.data: 07/10/2025, pixData.valor: 20, pixData.destinatario: luiz augusto silva, pixData.banco: Banco do Brasil, pixData.pagador: luiz fernando s colussi *, pixData.idTransacao: null
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Condição de processamento completo NÃO atendida para Comprovante_07-10-2025_073256bb.pdf. Salvando em pix_transactions_no_process.
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Attempting to save new Pix transaction to pix_transactions_no_process for Comprovante_07-10-2025_073256bb.pdf
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: savePixTransaction called.
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: pixData desestruturado com sucesso.
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: savePixTransaction - filename: Comprovante_07-10-2025_073256bb.pdf
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: savePixTransaction - valor: 20
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: savePixTransaction - destinatario: luiz augusto silva
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: savePixTransaction - pagador: luiz fernando s colussi *
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: tableName determinado como: pix_transactions
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: SQL Query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferencia,
      hora_transferencia, banco, tipo_chave, status, id_transacao,
      observacoes, extracted_text, pagador
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: SQL Values: ["Comprovante_07-10-2025_073256bb.pdf",20,"luiz augusto silva","00000000202","2025-10-07","07:32:45","Banco do Brasil","CPF",null,null,null,"\n\n\nComprovante BB\n\nPix Enviado\nR$ 20,00\n07/10/2025 às 07:32:45\nRecebedor\nLuiz Augusto Silva\nCPF\n***.881.268-**\nAgência\n0531\nConta\n360857\nInstituição\n60701190 ITAÚ UNIBANCO S.A.\nTipo de conta\nConta Pagamento\nChave Pix\nluizaugustodasilva352@gmail.com\nPagador\nLuiz Fernando S Colussi *\nCPF\n***.210.728.**\nAgência\n3652-8\nConta\n6484769-1\nInstituição\n00000000 BCO DO BRASIL S.A.\nInformações adicionais\nID: E0000000020251007103233175861651\nDocumento: 000000000100701\nAutenticação SISBB: 2.69E.51C.BEF.420.5E4\nNotificação enviada em: 07/10/2025 às 07:32:46\nCentral de Relacionamento:\u00014004 0001 Capitais e regiões metropolitanas.\u00010800 729 0001 Demais localidades.\u0001SAC: 0800 729 0722.\u0001Ouvidoria: 0800 729 5678.\u0001Atendimento a deficientes auditivo\nEsse é o novo comprovante do Banco do Brasil.\u0001Mais clareza nas informações, facilitando sua vida.","luiz fernando s colussi *"]
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: About to execute SQL query for pix_transactions.
DEBUG: database_query: DEBUG: Query function called with SQL: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc...
DEBUG: database_query: DEBUG: Executing query: 
    INSERT INTO pix_transactions (
      filename, valor, destinatario, chave_pix, data_transferenc... with params: ["Comprovante_07-10-2025_073256bb.pdf",20,"luiz augusto silva","00000000202","2025-10-07","07:32:45"...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [{"fieldCount":0,"affectedRows":1,"insertId":55,"info":"","serverStatus":2,"warningStatus":0,"change...
DEBUG: Comprovante_07-10-2025_073256bb.pdf: DEBUG: Arquivo salvo em pix_transactions_no_process para: Comprovante_07-10-2025_073256bb.pdf
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":55,"filename":"Comprovante_07-10-2025_073256bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":55,"filename":"Comprovante_07-10-2025_073256bb.pdf","valor":"20.00","destinatario":"luiz aug...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
DEBUG: database_query: DEBUG: Query function called with SQL: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC...
DEBUG: database_query: DEBUG: Executing query: SELECT * FROM pix_transactions_no_process ORDER BY processed_at DESC... with params: []...
DEBUG: database_query: DEBUG: Query executed successfully. Result: [[{"id":49,"filename":"Imagem do WhatsApp de 2025-12-09 Ã (s) 16.27.21_9dacc5c2.jpg","valor":null,"d...
